{
  "branchName": "milestone-03-api-sdk",
  "context": {
    "phase": "3d",
    "phaseName": "TypeScript API Client SDK",
    "phaseGoal": "Generate type-safe TypeScript SDK from OpenAPI spec for frontend consumption",
    "dependsOn": [],
    "successCriteria": [
      "TypeScript SDK generated from OpenAPI spec",
      "Type-safe API client with full IntelliSense",
      "Published to npm or internal registry",
      "React hooks for data fetching"
    ],
    "qualityGates": [
      "cd frontend-sdk && npm run build",
      "cd frontend-sdk && npm run typecheck"
    ]
  },
  "userStories": [
    {
      "id": 1,
      "title": "Generate TypeScript types from OpenAPI",
      "description": "Use openapi-typescript to generate TypeScript interfaces from the OpenAPI schema.",
      "acceptanceCriteria": [
        "frontend-sdk/ directory created",
        "openapi-typescript installed",
        "npm script to regenerate types",
        "Types for all API endpoints generated",
        "Types exported from index.ts"
      ],
      "files": [
        "frontend-sdk/package.json",
        "frontend-sdk/src/types/api.ts",
        "frontend-sdk/scripts/generate-types.ts"
      ],
      "passes": false
    },
    {
      "id": 2,
      "title": "Create typed API client",
      "description": "Build a type-safe fetch wrapper using generated types.",
      "acceptanceCriteria": [
        "ApiClient class with typed methods",
        "Automatic JWT token injection",
        "Token refresh on 401",
        "Request/response interceptors",
        "Error handling with typed errors",
        "Base URL configuration"
      ],
      "files": [
        "frontend-sdk/src/client.ts",
        "frontend-sdk/src/auth.ts",
        "frontend-sdk/src/errors.ts"
      ],
      "passes": false
    },
    {
      "id": 3,
      "title": "Add React Query hooks",
      "description": "Create React Query hooks for each API endpoint with proper typing.",
      "acceptanceCriteria": [
        "@tanstack/react-query as peer dependency",
        "useQuery hooks for GET endpoints",
        "useMutation hooks for POST/PUT/DELETE",
        "Automatic cache invalidation",
        "Loading and error states typed",
        "Optimistic updates for mutations"
      ],
      "files": [
        "frontend-sdk/src/hooks/useClaims.ts",
        "frontend-sdk/src/hooks/useAlerts.ts",
        "frontend-sdk/src/hooks/useScores.ts",
        "frontend-sdk/src/hooks/index.ts"
      ],
      "passes": false
    },
    {
      "id": 4,
      "title": "Add SDK documentation and examples",
      "description": "Create README with usage examples and API documentation.",
      "acceptanceCriteria": [
        "README.md with installation instructions",
        "Usage examples for common operations",
        "TypeDoc for API documentation",
        "Example React component using SDK",
        "Environment configuration guide"
      ],
      "files": [
        "frontend-sdk/README.md",
        "frontend-sdk/examples/basic-usage.tsx"
      ],
      "passes": false
    }
  ]
}
